{"ast":null,"code":"var _jsxFileName = \"/home/mayuri/Desktop/vaidya/vaidyamanager/frontend/src/screens/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n// Bootstrap Components\nimport { Form, Button, Row, Col } from 'react-bootstrap';\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n// UI Components\nimport Message from '../components/Message';\n// import Loader from '../components/Loader'\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport FormContainer from '../components/FormContainer';\n// Redux Actions\nimport { login } from '../actions/userActions';\n//css\nimport \"../login.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\nconst Login = _ref => {\n  let {\n    location,\n    history\n  } = _ref;\n  const [isFetching, setIsFetching] = useState(true);\n  const [passwordShown, setPasswordShown] = useState(false);\n\n  // useEffect(() => {\n  //     setTimeout(function () {\n  //         // console.log(\"Delayed for 5 second.\");\n  //         setIsFetching(false);\n  //     }, 2000);\n  //     history.push('/login')\n  // }, []);\n  const eye = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faEye,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  });\n  // State to hold email and password\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const dispatch = useDispatch();\n\n  // Get user login info from Redux state\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    loading,\n    error,\n    userInfo\n  } = userLogin;\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n  useEffect(() => {\n    // If there is user info then redirect\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  // Handler that logs in the user\n  const submitHandler = e => {\n    e.preventDefault();\n    // console.log(\"trigger\")\n    // Dispatch login\n    dispatch(login(email, password));\n    localStorage.setItem('isLogin', true);\n  };\n  // Password toggle handler\n  const togglePassword = () => {\n    // When the handler is invoked\n    // inverse the boolean state of passwordShown\n    setPasswordShown(!passwordShown);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"vh-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-5 h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex align-items-center justify-content-center h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 col-lg-7 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"images/undrawl.png\",\n    className: \"img-fluid\",\n    alt: \"Phone image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7 col-lg-5 col-xl-5 offset-xl-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 39\n    }\n  }, error), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-outline mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"form1Example13\",\n    className: \"form-control form-control-lg\",\n    controlid: \"email\",\n    placeholder: \"email@example.com\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    htmlFor: \"form1Example13\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }, \"Email address\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-outline mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pass-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: passwordShown ? \"text\" : \"password\"\n    // type=\"password\"\n    ,\n    id: \"form1Example23\",\n    className: \"form-control form-control-lg\",\n    controlid: \"password\",\n    placeholder: \"Enter password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-eye icons\",\n    style: {\n      fontSize: \"20px\"\n    },\n    onClick: togglePassword,\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-around align-items-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }, \"Forgot password?\")), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"btn btn-primary btn-lg btn-block\",\n    style: {\n      backgroundColor: \"#3b5998\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 33\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divider d-flex align-items-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center fw-bold mx-3 mb-0 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 37\n    }\n  }, \"OR\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, \"New Customer\", ' ', /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? `/register?redirect=${redirect}` : '/register',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 41\n    }\n  }, \"Register\")))))))));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","Form","Button","Row","Col","useDispatch","useSelector","Message","LoadingSpinner","FormContainer","login","FontAwesomeIcon","faEye","Login","location","history","isFetching","setIsFetching","passwordShown","setPasswordShown","eye","email","setEmail","password","setPassword","dispatch","userLogin","state","loading","error","userInfo","redirect","search","split","push","submitHandler","e","preventDefault","localStorage","setItem","togglePassword","target","value","fontSize","backgroundColor"],"sources":["/home/mayuri/Desktop/vaidya/vaidyamanager/frontend/src/screens/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n// Bootstrap Components\nimport { Form, Button, Row, Col } from 'react-bootstrap'\n// Redux\nimport { useDispatch, useSelector } from 'react-redux'\n// UI Components\nimport Message from '../components/Message'\n// import Loader from '../components/Loader'\nimport LoadingSpinner from '../components/LoadingSpinner'\nimport FormContainer from '../components/FormContainer'\n// Redux Actions\nimport { login } from '../actions/userActions'\n//css\nimport \"../login.css\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\n\n\nconst Login = ({ location, history }) => {\n    const [isFetching, setIsFetching] = useState(true);\n    const [passwordShown, setPasswordShown] = useState(false);\n\n    // useEffect(() => {\n    //     setTimeout(function () {\n    //         // console.log(\"Delayed for 5 second.\");\n    //         setIsFetching(false);\n    //     }, 2000);\n    //     history.push('/login')\n    // }, []);\n    const eye = <FontAwesomeIcon icon={faEye} />;\n    // State to hold email and password\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n\n    const dispatch = useDispatch()\n\n    // Get user login info from Redux state\n    const userLogin = useSelector((state) => state.userLogin)\n    const { loading, error, userInfo } = userLogin\n\n    const redirect = location.search ? location.search.split('=')[1] : '/'\n\n    useEffect(() => {\n        // If there is user info then redirect\n        if (userInfo) {\n            history.push(redirect)\n        }\n    }, [history, userInfo, redirect])\n\n    // Handler that logs in the user\n    const submitHandler = (e) => {\n        e.preventDefault()\n        // console.log(\"trigger\")\n        // Dispatch login\n        dispatch(login(email, password))\n        localStorage.setItem('isLogin', true)\n    }\n    // Password toggle handler\n    const togglePassword = () => {\n        // When the handler is invoked\n        // inverse the boolean state of passwordShown\n        setPasswordShown(!passwordShown);\n    };\n\n    return (\n        <div>\n            <section className=\"vh-100\">\n                <div className=\"container py-5 h-100\">\n                    <div className=\"row d-flex align-items-center justify-content-center h-100\">\n                        <div className=\"col-md-8 col-lg-7 col-xl-6\">\n                            <img src={\"images/undrawl.png\"}\n                                className=\"img-fluid\" alt=\"Phone image\" />\n                        </div>\n                        <div className=\"col-md-7 col-lg-5 col-xl-5 offset-xl-1\">\n                            {error && <Message variant='danger'>{error}</Message>}\n                            {/* {loading && <Loader />} */}\n                            <Form onSubmit={submitHandler}>\n\n                                <div className=\"form-outline mb-4\">\n                                    <input \n                                       type=\"email\"\n                                        id=\"form1Example13\"\n                                        className=\"form-control form-control-lg\"\n                                        controlid='email'\n                                        placeholder='email@example.com'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)} />\n                                    <label className=\"form-label\" htmlFor=\"form1Example13\">Email address</label>\n                                </div>\n                                <div className=\"form-outline mb-4\">\n                                    <div className=\"pass-wrapper\">\n                                        <input\n                                            type={passwordShown ? \"text\" : \"password\"}\n                                            // type=\"password\"\n                                            id=\"form1Example23\"\n                                            className=\"form-control form-control-lg\"\n                                            controlid='password'\n                                            placeholder='Enter password'\n                                            value={password}\n                                            onChange={(e) => setPassword(e.target.value)}\n                                        />\n                                        <i className=\"fa fa-eye icons\" style={{fontSize:\"20px\"}} onClick={togglePassword} aria-hidden=\"true\" />\n                                    </div>\n                                </div>\n\n                                <div className=\"d-flex justify-content-around align-items-center mb-4\">\n                                    <a href=\"/reset\">Forgot password?</a>\n                                </div>\n                                <Button type=\"submit\" className=\"btn btn-primary btn-lg btn-block\" style={{ backgroundColor: \"#3b5998\" }}\n                                >\n                                    Sign In\n                                </Button>\n                                <div className=\"divider d-flex align-items-center my-4\">\n                                    <p className=\"text-center fw-bold mx-3 mb-0 text-muted\">OR</p>\n                                </div>\n                                {/* <Button type=\"submit\" className=\"btn btn-primary btn-lg btn-block\" style={{ color:\"white\",backgroundColor: \"#3b5998\" }}\n                                >\n                                    <Link style={{ color:\"white\"}} to={'/otpscreen'}>\n                                    Sign In With Phone No\n                                    </Link>\n                                </Button> */}\n                                <Row className='py-3'>\n                                    <Col>\n                                        New Customer{' '}\n                                        <Link\n                                            to={\n                                                redirect\n                                                    ? `/register?redirect=${redirect}`\n                                                    : '/register'\n                                            }\n                                        >\n                                            Register\n                                        </Link>\n                                    </Col>\n                                </Row>\n                            </Form>\n                        </div>\n                    </div>\n                </div >\n            </section >\n        </div >\n    )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}