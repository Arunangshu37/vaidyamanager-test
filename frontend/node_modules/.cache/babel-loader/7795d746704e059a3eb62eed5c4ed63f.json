{"ast":null,"code":"var _jsxFileName = \"/home/mayuri/Desktop/vaidya/vaidyamanager/frontend/src/screens/Otpgeneration.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\n// Bootstrap Components\nimport { Form, Button, Component } from 'react-bootstrap';\nimport '../bootstrap.min.css';\nimport Toast from 'react-bootstrap/Toast';\nimport M from 'materialize-css';\n// Redux\nimport { useDispatch, useSelector } from 'react-redux';\n// UI Components\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\n//css\nimport \"../login.css\";\nconst Otpgeneration = _ref => {\n  let {\n    location,\n    history\n  } = _ref;\n  const [otp, setOtp] = useState();\n  const dispatch = useDispatch();\n  const {\n    token\n  } = useParams();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    loading,\n    error,\n    userInfo\n  } = userLogin;\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n  useEffect(() => {\n    // If there is user info then redirect\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n  const Callotp = e => {\n    e.preventDefault();\n\n    // if (password !== confirmPassword) {\n\n    //     // setMessage('Passwords do not match')\n    //     alert(\"Password do no match\")\n    // }\n    //  else {\n    //     // Dispatch Register\n    //     fetch(\"http://localhost:5000/api/users/new-password\",{\n    //         method:\"post\",\n    //         headers:{\n    //             \"Content-Type\":\"application/json\"\n    //         },\n    //         body:JSON.stringify({\n    //             password,\n    //             token\n    //         })\n    //     }).then(res=>res.json())\n    //     .then(data=>{\n    //         console.log(data)\n    //        if(data.error){\n    //         alert(\"Please Check your mail\")\n    //           M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\n    //        }\n    //        else{\n    //            M.toast({html:data.message,classes:\"#43a047 green darken-1\"})\n    //            history.push('/login')\n\n    //        }\n    //     }).catch(err=>{\n    //         console.log(err)\n    //     })\n    // }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"vh-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-5 h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row d-flex align-items-center justify-content-center h-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 col-lg-7 col-xl-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"http://localhost:3000/images/undrawl.png\",\n    className: \"img-fluid\",\n    alt: \"Phone image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7 col-lg-5 col-xl-5 offset-xl-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 31\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: Callotp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-outline mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"form1Example13\",\n    className: \"form-control form-control-lg\",\n    controlId: \"otp\",\n    placeholder: \"OTP\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: \"btn btn-primary btn-lg btn-block\",\n    style: {\n      backgroundColor: \"#3b5998\"\n    }\n    //  onClick={()=>PostData()}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"Send\")))))));\n};\nexport default Otpgeneration;","map":{"version":3,"names":["React","useState","useEffect","useParams","Form","Button","Component","Toast","M","useDispatch","useSelector","Message","Loader","Otpgeneration","location","history","otp","setOtp","dispatch","token","userLogin","state","loading","error","userInfo","redirect","search","split","push","Callotp","e","preventDefault","backgroundColor"],"sources":["/home/mayuri/Desktop/vaidya/vaidyamanager/frontend/src/screens/Otpgeneration.js"],"sourcesContent":["import React, { useState, useEffect} from 'react'\nimport { useParams } from \"react-router-dom\";\n// Bootstrap Components\nimport { Form, Button,Component } from 'react-bootstrap'\nimport '../bootstrap.min.css'\nimport Toast from 'react-bootstrap/Toast';\nimport M from 'materialize-css'\n// Redux\nimport { useDispatch, useSelector } from 'react-redux'\n// UI Components\nimport Message from '../components/Message'\nimport Loader from '../components/Loader'\n//css\nimport \"../login.css\"\n\nconst Otpgeneration=({ location, history }) =>{\n    const [otp, setOtp] = useState();\n    const dispatch = useDispatch();\n    const {token} = useParams();\n\n    const userLogin = useSelector((state) => state.userLogin)\n    const { loading, error, userInfo } = userLogin\n\n    const redirect = location.search ? location.search.split('=')[1] : '/'\n\n\n    useEffect(() => {\n        // If there is user info then redirect\n        if (userInfo) {\n            history.push(redirect)\n        }\n    }, [history, userInfo, redirect])\n\n    const Callotp = (e)=>{\n        e.preventDefault()\n       \n        // if (password !== confirmPassword) {\n        \n        //     // setMessage('Passwords do not match')\n        //     alert(\"Password do no match\")\n        // }\n        //  else {\n        //     // Dispatch Register\n        //     fetch(\"http://localhost:5000/api/users/new-password\",{\n        //         method:\"post\",\n        //         headers:{\n        //             \"Content-Type\":\"application/json\"\n        //         },\n        //         body:JSON.stringify({\n        //             password,\n        //             token\n        //         })\n        //     }).then(res=>res.json())\n        //     .then(data=>{\n        //         console.log(data)\n        //        if(data.error){\n        //         alert(\"Please Check your mail\")\n        //           M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\n        //        }\n        //        else{\n        //            M.toast({html:data.message,classes:\"#43a047 green darken-1\"})\n        //            history.push('/login')\n               \n        //        }\n        //     }).catch(err=>{\n        //         console.log(err)\n        //     })\n        // }\n       \n    }\n  return (\n    <div>\n    <section className=\"vh-100\">\n        <div className=\"container py-5 h-100\">\n            <div className=\"row d-flex align-items-center justify-content-center h-100\">\n                <div className=\"col-md-8 col-lg-7 col-xl-6\">\n                    <img src={\"http://localhost:3000/images/undrawl.png\"}\n                        className=\"img-fluid\" alt=\"Phone image\" />\n                </div>\n                <div className=\"col-md-7 col-lg-5 col-xl-5 offset-xl-1\">\n                    {error && <Message variant='danger'>{error}</Message>}\n                    {loading && <Loader />}\n                    <Form \n                    onSubmit={Callotp}\n                    >\n                        {/* <div className=\"form-outline mb-4\">\n                            <input type=\"password\"\n                                id=\"form1Example13\"\n                                className=\"form-control form-control-lg\"\n                                controlId='phone_no'\n                                placeholder='Mobile No'\n                            \n                               />\n                        </div> */}\n\n                        <div className=\"form-outline mb-4\">\n                            <input type=\"password\"\n                                id=\"form1Example13\"\n                                className=\"form-control form-control-lg\"\n                                controlId='otp'\n                                placeholder='OTP'\n                               \n                                 />\n                        </div>\n\n                        <Button type=\"submit\" className=\"btn btn-primary btn-lg btn-block\" style={{ backgroundColor: \"#3b5998\" }}\n                        //  onClick={()=>PostData()}\n                         >\n                    Send \n                        </Button>\n                    </Form>\n                </div>\n            </div>\n        </div>\n    </section>\n</div>\n  )\n}\n\nexport default Otpgeneration"],"mappings":"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"},"metadata":{},"sourceType":"module"}